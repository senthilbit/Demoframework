{"failedCount":1,"prefixedPath":"src\/test\/java\/Features\/Database.feature","packageQualifiedName":"src.test.java.Features.Database","loopIndex":-1,"relativePath":"src\/test\/java\/Features\/Database.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":27533300,"millis":27.5333,"status":"passed"},"step":{"comments":["# use jdbc to validate"],"line":8,"prefix":"*","index":0,"text":"def config = { username: 'sql12343737', password: 'tZWFWH628v', url: 'jdbc:mysql:\/\/sql12.freemysqlhosting.net:3306\/sql12343737', driverClassName: 'com.mysql.cj.jdbc.Driver' }"},"stepLog":"14:11:44.979 The value of env is :  null \n"},{"result":{"nanos":3961000,"millis":3.961,"status":"passed"},"step":{"line":9,"prefix":"*","index":1,"text":"def DbUtils = Java.type('Utils.External.DbUtils')"}},{"result":{"nanos":31610800,"millis":31.6108,"status":"passed"},"step":{"line":10,"prefix":"*","index":2,"text":"def db = new DbUtils(config)"}},{"result":{"nanos":22279344600,"errorMessage":"js failed:\n>>>>\n01: db.readRows('Select * from office')\n<<<<\norg.graalvm.polyglot.PolyglotException: Failed to obtain JDBC Connection; nested exception is com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n- org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:83)\n- org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:376)\n- org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:465)\n- org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:475)\n- org.springframework.jdbc.core.JdbcTemplate.queryForList(JdbcTemplate.java:525)\n- Utils.External.DbUtils.readRows(DbUtils.java:43)\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/Features\/Database.feature:14","millis":22279.3446,"status":"failed"},"step":{"comments":["# since the DbUtils returns a Java List (of Map-s), it becomes normal JSON here !","# which means that you can use the full power of Karate's 'match' syntax"],"line":14,"prefix":"*","index":3,"text":"def empolyees = db.readRows('Select * from office')"},"stepLog":"14:12:07.354 src\/test\/java\/Features\/Database.feature:14\n* def empolyees = db.readRows('Select * from office')\njs failed:\n>>>>\n01: db.readRows('Select * from office')\n<<<<\norg.graalvm.polyglot.PolyglotException: Failed to obtain JDBC Connection; nested exception is com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n- org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:83)\n- org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:376)\n- org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:465)\n- org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:475)\n- org.springframework.jdbc.core.JdbcTemplate.queryForList(JdbcTemplate.java:525)\n- Utils.External.DbUtils.readRows(DbUtils.java:43)\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/Features\/Database.feature:14\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":15,"prefix":"Then","index":4,"text":"print empolyees"}}],"line":5,"description":"","durationMillis":22342.4497,"failed":true,"error":"js failed:\n>>>>\n01: db.readRows('Select * from office')\n<<<<\norg.graalvm.polyglot.PolyglotException: Failed to obtain JDBC Connection; nested exception is com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n- org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:83)\n- org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:376)\n- org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:465)\n- org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:475)\n- org.springframework.jdbc.core.JdbcTemplate.queryForList(JdbcTemplate.java:525)\n- Utils.External.DbUtils.readRows(DbUtils.java:43)\n- <js>.:program(Unnamed:1)\n\nsrc\/test\/java\/Features\/Database.feature:14","executorName":"main","name":"","startTime":1704703304851,"refId":"[1:5]","endTime":1704703327354,"exampleIndex":-1}],"callDepth":0,"name":"dogs end-point that uses jdbc as part of the test","description":"","resultDate":"2024-01-08 02:12:07 PM","durationMillis":22342.4497,"passedCount":0}