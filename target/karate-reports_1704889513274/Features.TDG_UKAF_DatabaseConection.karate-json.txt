{"failedCount":1,"prefixedPath":"classpath:Features\/TDG_UKAF_DatabaseConection.feature","packageQualifiedName":"Features.TDG_UKAF_DatabaseConection","loopIndex":-1,"relativePath":"Features\/TDG_UKAF_DatabaseConection.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":24718400,"millis":24.7184,"status":"passed"},"step":{"comments":["# use jdbc to validate","# * def config = { username: 'sql12343737', password: 'tZWFWH628v', url: 'jdbc:mysql:\/\/sql12.freemysqlhosting.net:3306\/sql12343737', driverClassName: 'com.mysql.cj.jdbc.Driver' }"],"line":9,"prefix":"*","index":0,"text":"def config = { username: 'jayant.gangwani@thedigitalgroup.com', password: 'Jayant@123456', url: 'jdbc:postgresql:\/\/cockroachlabs.cloud\/clusters', driverClassName: 'org.postgresql.Driver' }"},"stepLog":"17:53:29.680 The value of env is :  null \n"},{"result":{"nanos":7091000,"millis":7.091,"status":"passed"},"step":{"line":11,"prefix":"*","index":1,"text":"def DbUtils = Java.type('Utils.External.DbUtils')"}},{"result":{"nanos":38375000,"millis":38.375,"status":"passed"},"step":{"line":12,"prefix":"*","index":2,"text":"def db = new DbUtils(config)"}},{"result":{"nanos":10156007300,"errorMessage":"js failed:\n>>>>\n01: db.readRows('Select * from office')\n<<<<\norg.graalvm.polyglot.PolyglotException: Failed to obtain JDBC Connection; nested exception is org.postgresql.util.PSQLException: The connection attempt failed.\n- org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:83)\n- org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:376)\n- org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:465)\n- org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:475)\n- org.springframework.jdbc.core.JdbcTemplate.queryForList(JdbcTemplate.java:525)\n- Utils.External.DbUtils.readRows(DbUtils.java:46)\n- <js>.:program(Unnamed:1)\n\nclasspath:Features\/TDG_UKAF_DatabaseConection.feature:16","millis":10156.0073,"status":"failed"},"step":{"comments":["# since the DbUtils returns a Java List (of Map-s), it becomes normal JSON here !","# which means that you can use the full power of Karate's 'match' syntax"],"line":16,"prefix":"*","index":3,"text":"def empolyees = db.readRows('Select * from office')"},"stepLog":"17:53:39.939 classpath:Features\/TDG_UKAF_DatabaseConection.feature:16\n* def empolyees = db.readRows('Select * from office')\njs failed:\n>>>>\n01: db.readRows('Select * from office')\n<<<<\norg.graalvm.polyglot.PolyglotException: Failed to obtain JDBC Connection; nested exception is org.postgresql.util.PSQLException: The connection attempt failed.\n- org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:83)\n- org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:376)\n- org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:465)\n- org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:475)\n- org.springframework.jdbc.core.JdbcTemplate.queryForList(JdbcTemplate.java:525)\n- Utils.External.DbUtils.readRows(DbUtils.java:46)\n- <js>.:program(Unnamed:1)\n\nclasspath:Features\/TDG_UKAF_DatabaseConection.feature:16\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":17,"prefix":"Then","index":4,"text":"print empolyees"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":19,"prefix":"*","index":5,"text":"def dogs = db.readRows('SELECT * FROM DOGS')"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":20,"prefix":"*","index":6,"text":"match dogs contains { ID: '#(id)', NAME: 'Scooby' }"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":22,"prefix":"*","index":7,"text":"def dog = db.readRow('SELECT * FROM DOGS D WHERE D.ID = ' + id)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":23,"prefix":"*","index":8,"text":"match dog.NAME == 'Scooby'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":25,"prefix":"*","index":9,"text":"def test = db.readValue('SELECT ID FROM DOGS D WHERE D.ID = ' + id)"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":26,"prefix":"*","index":10,"text":"match test == id"}}],"line":5,"description":"","durationMillis":10226.1917,"failed":true,"error":"js failed:\n>>>>\n01: db.readRows('Select * from office')\n<<<<\norg.graalvm.polyglot.PolyglotException: Failed to obtain JDBC Connection; nested exception is org.postgresql.util.PSQLException: The connection attempt failed.\n- org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:83)\n- org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:376)\n- org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:465)\n- org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:475)\n- org.springframework.jdbc.core.JdbcTemplate.queryForList(JdbcTemplate.java:525)\n- Utils.External.DbUtils.readRows(DbUtils.java:46)\n- <js>.:program(Unnamed:1)\n\nclasspath:Features\/TDG_UKAF_DatabaseConection.feature:16","executorName":"main","name":"","startTime":1704889409543,"refId":"[1:5]","endTime":1704889419939,"exampleIndex":-1}],"callDepth":0,"name":"dogs end-point that uses jdbc as part of the test","description":"","resultDate":"2024-01-10 05:53:39 PM","durationMillis":10226.1917,"passedCount":0}